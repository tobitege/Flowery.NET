<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:weather="clr-namespace:Flowery.Controls.Custom.Weather;assembly=Flowery.NET"
                    xmlns:models="clr-namespace:Flowery.Controls.Custom.Weather.Models;assembly=Flowery.NET">

    <Design.PreviewWith>
        <Border Padding="20" Background="{DynamicResource DaisyBase200Brush}">
            <weather:DaisyWeatherCurrent
                Temperature="8"
                FeelsLike="5"
                Condition="PartlyCloudy"
                Sunrise="07:33"
                Sunset="17:20" />
        </Border>
    </Design.PreviewWith>

    <ControlTheme x:Key="{x:Type weather:DaisyWeatherCurrent}" TargetType="weather:DaisyWeatherCurrent">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Foreground" Value="{DynamicResource DaisyBaseContentBrush}" />
        <Setter Property="Template">
            <ControlTemplate>
                <Border Background="{TemplateBinding Background}"
                        Padding="{TemplateBinding Padding}">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <!-- Animated Weather Icon -->
                        <weather:DaisyWeatherIcon Grid.Column="0"
                                                  IconSize="64"
                                                  Foreground="{DynamicResource DaisyPrimaryBrush}"
                                                  Condition="{TemplateBinding Condition}" />

                        <!-- Date and Sun Times -->
                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="16,0">
                            <!-- Date -->
                            <TextBlock FontSize="18" FontWeight="SemiBold"
                                       Foreground="{DynamicResource DaisyBaseContentBrush}"
                                       Text="{Binding Date, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static weather:DateToFullStringConverter.Instance}}" />

                            <!-- Sunrise/Sunset -->
                            <StackPanel Orientation="Horizontal" Spacing="16" Margin="0,8,0,0"
                                        IsVisible="{TemplateBinding ShowSunTimes}">
                                <!-- Sunrise -->
                                <StackPanel Orientation="Horizontal" Spacing="4">
                                    <PathIcon Width="16" Height="16"
                                              Foreground="{DynamicResource DaisyWarningBrush}"
                                              Data="{StaticResource WeatherIconSunrise}" />
                                    <TextBlock
                                        FontSize="{DynamicResource DaisySizeMediumSecondaryFontSize}"
                                        VerticalAlignment="Center"
                                        Foreground="{DynamicResource DaisyBaseContentBrush}"
                                        Opacity="0.7"
                                        Text="{Binding Sunrise, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static weather:TimeSpanToStringConverter.Instance}}" />
                                </StackPanel>
                                <!-- Sunset -->
                                <StackPanel Orientation="Horizontal" Spacing="4">
                                    <PathIcon Width="16" Height="16"
                                              Foreground="{DynamicResource DaisyErrorBrush}"
                                              Data="{StaticResource WeatherIconSunset}" />
                                    <TextBlock
                                        FontSize="{DynamicResource DaisySizeMediumSecondaryFontSize}"
                                        VerticalAlignment="Center"
                                        Foreground="{DynamicResource DaisyBaseContentBrush}"
                                        Opacity="0.7"
                                        Text="{Binding Sunset, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static weather:TimeSpanToStringConverter.Instance}}" />
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>

                        <!-- Temperature Display -->
                        <StackPanel Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right">
                            <!-- Main Temperature -->
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontSize="48" FontWeight="Bold"
                                           Foreground="{DynamicResource DaisyPrimaryBrush}"
                                           Text="{Binding Temperature, RelativeSource={RelativeSource TemplatedParent}, StringFormat={}{0:0}}" />
                                <TextBlock FontSize="24" FontWeight="Light" VerticalAlignment="Top" Margin="2,8,0,0"
                                           Foreground="{DynamicResource DaisyPrimaryBrush}">
                                    <TextBlock.Text>
                                        <MultiBinding StringFormat="°{0}">
                                            <Binding Path="TemperatureUnit" RelativeSource="{RelativeSource TemplatedParent}" />
                                        </MultiBinding>
                                    </TextBlock.Text>
                                </TextBlock>
                            </StackPanel>
                            <!-- Feels Like -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,-4,0,0">
                                <TextBlock FontSize="14" Opacity="0.6"
                                           Foreground="{DynamicResource DaisyBaseContentBrush}"
                                           Text="Feels Like " />
                                <TextBlock FontSize="14" FontWeight="SemiBold"
                                           Foreground="{DynamicResource DaisySecondaryBrush}"
                                           Text="{Binding FeelsLike, RelativeSource={RelativeSource TemplatedParent}, StringFormat={}{0:0}}" />
                                <TextBlock FontSize="14" FontWeight="SemiBold"
                                           Foreground="{DynamicResource DaisySecondaryBrush}">
                                    <TextBlock.Text>
                                        <MultiBinding StringFormat="°{0}">
                                            <Binding Path="TemperatureUnit" RelativeSource="{RelativeSource TemplatedParent}" />
                                        </MultiBinding>
                                    </TextBlock.Text>
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter>
    </ControlTheme>

</ResourceDictionary>
